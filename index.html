<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CORE_v4_STABLE_INC</title>
    <style>
        :root { --blue: #80ebff; --green: #39ff14; --bg: #000; }
        body { 
            margin: 0; padding: 0; 
            background: #000 url("https://r.jina.ai/i/54056247754d8004b772f9f1f0a28f8f") no-repeat center center fixed; 
            background-size: cover; 
            font-family: "Courier New", monospace; 
            height: 100vh; overflow: hidden; color: var(--blue);
            display: flex; align-items: center; justify-content: center;
        }

        /* Menu Protocolo - Acesso Restrito */
        .sidebar {
            position: fixed; left: -300px; top: 0; width: 300px; height: 100%;
            background: rgba(0, 0, 0, 0.98); border-right: 1px solid var(--blue);
            transition: 0.4s; z-index: 1000; padding: 30px; box-sizing: border-box;
        }
        .sidebar.active { left: 0; }

        .menu-btn {
            position: fixed; top: 20px; left: 20px; z-index: 1001;
            background: transparent; border: 1px solid var(--blue); color: var(--blue);
            padding: 8px 15px; cursor: pointer; font-size: 0.6em; letter-spacing: 3px;
        }

        /* Painel Central - Apenas o Ativo e a Fórmula */
        .main-panel {
            background: rgba(0, 0, 0, 0.9); border: 1px solid rgba(128, 235, 255, 0.2);
            padding: 40px; border-radius: 2px; text-align: center;
            backdrop-filter: blur(15px); z-index: 10; width: 380px;
            box-shadow: 0 0 50px rgba(0,0,0,1);
        }

        .formula-core { color: var(--green); font-size: 0.85em; margin-bottom: 30px; letter-spacing: 1px; }
        .saldo-box { font-size: 2.6em; font-weight: bold; margin: 10px 0; color: #fff; text-shadow: 0 0 20px var(--blue); }
        
        .stats-grid { 
            display: grid; grid-template-columns: 1fr 1fr; gap: 20px;
            margin-top: 35px; border-top: 1px solid #1a1a1a; padding-top: 25px;
            font-size: 0.6em; text-align: left; opacity: 0.8;
        }
        .stat-label { color: #444; display: block; margin-bottom: 5px; letter-spacing: 1px; }
        .stat-value { color: var(--blue); font-weight: bold; }
    </style>
</head>
<body>

    <button class="menu-btn" onclick="document.getElementById(\"side\").classList.toggle(\"active\")">☰ PROTOCOLO</button>

    <div class="sidebar" id="side">
        <h3 style="color:var(--blue); font-size: 0.8em; letter-spacing: 2px;">IDENTIDADE SOBERANA</h3>
        <p style="font-size: 0.65em; line-height: 2; color: #666; text-align: justify;">
            ARQUITETO: ALEXANDRE FREIRE<br><br>
            ESTA É A SOBERANIA DIGITAL DA NOVA ERA WEB 4.0. 
            O CONTROLE DO TEMPO E DOS ATIVOS É EXECUTADO ATRAVÉS DESTA INTERFACE.
            A MATEMÁTICA PROTEGE A LIBERDADE ONDE AS LEIS FALHAM.
        </p>
        <button onclick="document.getElementById(\"side\").classList.remove(\"active\")" style="background:none; border:1px solid #222; color:#444; cursor:pointer; font-size:0.5em; padding: 5px 10px; margin-top: 20px;">ENCERRAR_SESSÃO</button>
    </div>

    <div class="main-panel">
        <div class="formula-core">f(x) = ∑ aᵢ xᵢ mod(q) | n=2500</div>
        <div class="saldo-box" id="saldo">0.00 INC</div>
        
        <div class="stats-grid">
            <div>
                <span class="stat-label">RED_LATENCY</span>
                <span class="stat-value" id="lat">0ms</span>
            </div>
            <div>
                <span class="stat-label">ACTIVE_PULSE</span>
                <span class="stat-value" id="vis">28514</span>
            </div>
        </div>
    </div>

    <script>
        async function update() {
            const t0 = performance.now();
            try {
                const r = await fetch("/api/nano_status");
                const d = await r.json();
                document.getElementById("saldo").innerText = d.saldo.toLocaleString("en-US", {minimumFractionDigits: 2}) + " INC";
                document.getElementById("vis").innerText = d.visitas;
                document.getElementById("lat").innerText = Math.round(performance.now() - t0) + "ms";
            } catch(e) {}
        }
        setInterval(update, 2000);
    </script>
</body>
</html>
